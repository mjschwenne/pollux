syntax = "proto3";

package example;

import "google/protobuf/timestamp.proto";
import "google/protobuf/duration.proto";

enum EnumExample {
  ENUM_UNSPECIFIED = 0;
  ENUM_VALUE_1 = 1;
  ENUM_VALUE_2 = 2;
}

message Outer {
  enum NestedEnum {
    reserved 2, 3;
    reserved "NESTED_ENUM_VALUE_2";
    NESTED_ENUM_UNSPECIFIED = 0;
    NESTED_ENUM_VALUE_1 = 1;
  }
}

message recurse1 {
  recurse1 field = 1;
}

message SimpleMessage {
  double double_example = 1;
  float float_example = 2;
  int32 int32_example = 3;
  int64 int64_example = 4;
  uint32 uint32_example = 5;
  uint64 uint64_example = 6;
  sint32 sint32_example = 7;
  sint64 sint64_example = 8;
  fixed32 fixed32_example = 9;
  fixed64 fixed64_example = 10;
  sfixed32 sfixed32_example = 11;
  sfixed64 sfixed64_example = 12;
  bool bool_example = 13;
  string string_example = 14;
  bytes bytes_example = 15;

  repeated int32 repeated_int32 = 16;
  repeated string repeated_string = 17;

  optional double optional_double = 28;
  optional bytes optional_bytes = 29;

  map<string, int32> map_example = 18;

  oneof oneof_example {
    string name = 19;
    int32 id = 20;
  }

  message NestedMessage {
    string nested_string = 1;
  }
  NestedMessage nested_message = 21;

  EnumExample enum_example = 22;
  Outer.NestedEnum nested_enum_example = 23;

  google.protobuf.Timestamp timestamp_example = 24;
  google.protobuf.Duration duration_example = 25;

  reserved 26, 27;
  reserved "reserved_field";
}

service ExampleService {
  rpc UnaryCall (SimpleMessage) returns (SimpleMessage);
  rpc ServerStreamingCall (SimpleMessage) returns (stream SimpleMessage);
  rpc ClientStreamingCall (stream SimpleMessage) returns (SimpleMessage);
  rpc BidirectionalStreamingCall (stream SimpleMessage) returns (stream SimpleMessage);
}
